<div class="invitation-container">
  <!-- Header con animaciÃ³n -->
  <div class="header">
    <div class="decorative-element top"></div>
    <h1 class="animate-fade-in">InvitaciÃ³n de Bautizo</h1>
    <div class="hearts">ğŸ’–âœ¨ğŸ’«</div>
  </div>

  <!-- Contenido principal -->
  <div class="main-content">
    <div class="intro-text animate-slide-up">
      <p class="dear">Querido/a amigo/a:</p>
      <p class="invitation-text">
        Con mucho cariÃ±o te invitamos al bautizo de
      </p>
    </div>

    <!-- Nombre de la niÃ±a destacado -->
    <div class="name-highlight animate-zoom-in">
      <div class="name-decoration">âœ¨</div>
      <h2 class="child-name">{{ nombreNina }}</h2>
      <div class="name-decoration">âœ¨</div>
    </div>

    <!-- Fecha del evento -->
    <div class="event-date animate-slide-up">
      <p class="date-text">Que se celebrarÃ¡ este</p>
      <p class="date-highlight">{{ fechaBautizo }}</p>
    </div>

    <!-- Detalles adicionales -->
    <div class="details-section animate-fade-in">
      <div class="detail-card">
        <div class="icon">â›ª</div>
        <h3>Ceremonia Religiosa</h3>
        <p>Hora: 10:00 AM</p>
        <p>Iglesia San Francisco</p>
      </div>

      <div class="detail-card">
        <div class="icon">ğŸ‰</div>
        <h3>CelebraciÃ³n</h3>
        <p>Hora: 12:00 PM</p>
        <p>SalÃ³n de Eventos</p>
      </div>
    </div>

    <!-- Mensaje de la madre -->
    <div class="mother-section animate-slide-up">
      <p class="with-love">Con mucho cariÃ±o,</p>
      <p class="mother-name">{{ nombreMadre }}</p>
    </div>

    <!-- BotÃ³n de confirmaciÃ³n -->
    <div class="confirmation-section">
      <button class="confirm-btn" (click)="toggleFormulario()" *ngIf="!confirmado && !cargando">
        ğŸ‘‰ Confirmar Asistencia
      </button>

      <!-- Spinner de carga -->
      <div class="loading-spinner" *ngIf="cargando">
        <div class="spinner"></div>
        <p>Procesando...</p>
      </div>

      <!-- Formulario de confirmaciÃ³n -->
      <div class="form-container" *ngIf="mostrarFormulario && !confirmado && !cargando">
        <input 
          type="text" 
          [(ngModel)]="nombreInvitado" 
          placeholder="Tu nombre completo"
          class="input-field"
          (keyup.enter)="confirmarAsistencia()"
        />
        <button class="submit-btn" (click)="confirmarAsistencia()">
          Confirmar ğŸ’–
        </button>
        <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
      </div>

      <!-- Mensaje de confirmaciÃ³n -->
      <div class="confirmed-message" *ngIf="confirmado">
        <p>âœ… Â¡ConfirmaciÃ³n recibida!</p>
        <p>Â¡Te esperamos! ğŸ’–</p>
        <p class="total-confirmados">Total confirmados: {{ totalInvitados }}</p>
      </div>
    </div>

    <!-- SecciÃ³n de administraciÃ³n (para ver la lista) -->
    <div class="admin-section">
      <button class="admin-toggle-btn" (click)="toggleListaInvitados()">
        {{ autenticado ? 'ğŸ”’ Panel Admin' : 'ğŸ‘€ Ver Lista' }} 
        <span *ngIf="totalInvitados > 0">({{ totalInvitados }})</span>
      </button>

      <!-- Login Admin -->
      <div class="admin-login" *ngIf="mostrarLoginAdmin && !autenticado && !cargando">
        <h3>ğŸ” Acceso Administrador</h3>
        <input 
          type="password" 
          [(ngModel)]="passwordAdmin" 
          placeholder="ContraseÃ±a de administrador"
          class="input-field"
          (keyup.enter)="loginAdmin()"
        />
        <button class="submit-btn" (click)="loginAdmin()">
          Entrar
        </button>
        <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
      </div>

      <!-- Lista de invitados -->
      <div class="guests-list" *ngIf="mostrarListaInvitados && autenticado">
        <div class="admin-header">
          <h3>ğŸ“‹ Invitados Confirmados</h3>
          <button class="logout-btn" (click)="cerrarSesionAdmin()">
            ğŸšª Cerrar SesiÃ³n
          </button>
        </div>
        
        <div class="action-buttons">
          <button class="refresh-btn" (click)="recargarLista()" [disabled]="cargando">
            ğŸ”„ Actualizar
          </button>
          <button class="download-btn" (click)="descargarLista()">
            ğŸ“¥ Descargar Lista
          </button>
          <button class="clear-btn" (click)="limpiarTodo()">
            ğŸ—‘ï¸ Limpiar Todo
          </button>
        </div>
        
        <div class="guest-list-container">
          <div class="guest-item" *ngFor="let invitado of invitadosConfirmados; let i = index">
            <div class="guest-info">
              <span class="guest-number">{{ i + 1 }}.</span>
              <span class="guest-name">{{ invitado.nombre }}</span>
              <span class="guest-date">{{ invitado.fechaLegible }}</span>
            </div>
            <button class="delete-btn" (click)="eliminarInvitado(invitado.id)">
              âŒ
            </button>
          </div>
          
          <div class="empty-message" *ngIf="invitadosConfirmados.length === 0">
            <p>No hay invitados confirmados aÃºn</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer decorativo -->
  <div class="footer">
    <div class="decorative-element bottom"></div>
    <div class="hearts-bottom">ğŸŒ¸ ğŸ’• ğŸŒ¸</div>
  </div>

  <!-- Elementos de fondo animados -->
  <div class="background-hearts">
    <span class="floating-heart" style="left: 10%; animation-delay: 0s;">ğŸ’–</span>
    <span class="floating-heart" style="left: 20%; animation-delay: 2s;">âœ¨</span>
    <span class="floating-heart" style="left: 30%; animation-delay: 4s;">ğŸ’«</span>
    <span class="floating-heart" style="left: 70%; animation-delay: 1s;">ğŸ’–</span>
    <span class="floating-heart" style="left: 80%; animation-delay: 3s;">âœ¨</span>
    <span class="floating-heart" style="left: 90%; animation-delay: 5s;">ğŸ’«</span>
  </div>
</div>
